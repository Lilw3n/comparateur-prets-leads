jQuery(document).ready(function(d){"use strict";d(document).on("click",".tmds-order-id",function(t){let e=d(this).closest(".tmds-item-details").find(".tmds-item-actions-edit");if(!d(this).attr("href")||e.hasClass("tmds-hidden"))return t.preventDefault(),!1}),d(document).on("click",".tmds-tracking-number",function(t){if(!d(this).attr("href"))return t.preventDefault(),!1}),d(document).on("click",".tmds-item-actions-edit",function(){let t=d(this);t.addClass("tmds-hidden");let e=t.closest(".tmds-item-details");e.addClass("tmds-order-id-editing"),e.find(".tmds-order-id").find(".tmds-order-id-input").prop("readonly",!1).focus(),e.find(".tmds-item-actions-save").removeClass("tmds-hidden"),e.find(".tmds-item-actions-cancel").removeClass("tmds-hidden")}),d(document).on("click",".tmds-item-actions-cancel",function(){let t=d(this);t.addClass("tmds-hidden");let e=t.closest(".tmds-item-details");e.removeClass("tmds-order-id-editing");let i=e.find(".tmds-order-id");i.find(".tmds-order-id-input").prop("readonly",!0).val(i.data("old_fulfill_order_id")),e.find(".tmds-item-actions-edit").removeClass("tmds-hidden"),e.find(".tmds-item-actions-save").addClass("tmds-hidden")}),d(document).on("click",".tmds-item-actions-save",function(){let t=d(this),e=d(this).closest("td"),i=t.closest(".tmds-item-details-container"),s=(e.find(".woo-orders-tracking-container"),t.closest(".tmds-item-details")),n=s.data("product_item_id"),a=i.find(".tmds-item-value-overlay"),m=s.find(".tmds-order-id"),r=m.find(".tmds-order-id-input"),l=(i.find(".tmds-tracking-number"),i.find(".tmds-tracking-number-input"),i.find(".tmds-item-actions-get-tracking"),r.val()),o=m.data("old_fulfill_order_id");l==o?d(".tmds-item-actions-cancel").trigger("click"):(a.removeClass("tmds-hidden"),d.ajax({url:tmds_params.ajax_url,type:"POST",dataType:"JSON",data:{action:"tmds_manually_update_fulfill_order_id",tmds_nonce:tmds_params.nonce,item_id:n,fulfill_order_id:l},success:function(d){"success"===d.status?(t.addClass("tmds-hidden"),r.prop("readonly",!0),s.find(".tmds-item-actions-edit").removeClass("tmds-hidden"),s.find(".tmds-item-actions-cancel").addClass("tmds-hidden"),a.addClass("tmds-hidden"),m.data("old_fulfill_order_id",l).attr("href",d.fulfill_order_detail_url||""),s.removeClass("tmds-order-id-editing")):alert(d.message),a.addClass("tmds-hidden")},error:function(d){console.log(d),a.addClass("tmds-hidden")}}))})});