!function(a){"use strict";let i,e,t,c,o=!1,r=[],n=[],s=window.fetch;function d(){let i=a(".vi-wcaio-sidebar-cart-content-wrap").data("option")||{},e=!1;return Object.keys(i).length&&a(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-pd-wrap").length&&a.each(i,function(i,t){switch(i){case"sc_footer_cart_total":a(".vi-wcaio-sidebar-cart-footer-cart_total1-"+t).length||e++;break;case"sc_pd_price_style":a(".vi-wcaio-sidebar-cart-pd-price-"+t).length||e++}}),e}function w(e=null){e||(e=i(t).getCartData()),n=e?.items,a(document).trigger("vicaio-wc-blocks_added_to_cart"),a(document).trigger("viwcaio_after_update_cart",[e?.extensions?.vicaio_update])}function l(i="",e=""){let t=a(".vi-wcaio-sidebar-cart-content-wrap"),c=a(".vi-wcaio-sidebar-cart").data("position"),o=a(".vi-wcaio-sidebar-cart").data("effect");if("hide"===i&&t.hasClass("vi-wcaio-sidebar-cart-content-close"))return!1;if("show"===i&&t.hasClass("vi-wcaio-sidebar-cart-content-open"))return!1;f(t);let r="top_left"===c||"bottom_left"===c?"left":"right";if("start"===i&&e)return t.hasClass("vi-wcaio-sidebar-cart-content-close")?(t.removeClass("vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+o+"-"+r),t.addClass("vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+e+"-"+r)):(t.addClass("vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+e+"-"+r),t.removeClass("vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+o+"-"+r)),a(".vi-wcaio-sidebar-cart").data("effect",e),!1;e=e||o;let n=a(".vi-wcaio-sidebar-cart").data("old_position")||"",s=n?"top_left"===n||"bottom_left"===n?"left":"right":r,d="vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+e+"-"+r,w="vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+e+"-"+r,l="vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+o+"-"+s,v="vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+o+"-"+s+" vi-wcaio-sidebar-cart-content-close-"+o+"-"+r;t.hasClass("vi-wcaio-sidebar-cart-content-close")?(t.addClass(d).removeClass(w).removeClass(v),a("html").addClass("vi-wcaio-html-non-scroll"),a(".vi-wcaio-sidebar-cart-overlay").removeClass("vi-wcaio-disabled"),a(".vi-wcaio-sidebar-cart").data("effect",e),p()):(t.addClass(w).removeClass(d).removeClass(l),a(".vi-wcaio-sidebar-cart-overlay").addClass("vi-wcaio-disabled"),a("html").removeClass("vi-wcaio-html-non-scroll"),p(!0)),a(".vi-wcaio-sidebar-cart").data("effect",e)}function v(i,e=!1,t=!1){return a(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled"),e?(p(!0,t),!1):(i||(l("hide"),p()),(i=a(i)).length&&(i.data("empty_enable")||i.find(".vi-wcaio-sidebar-cart-pd-wrap").length)?(i.find(".vi-wcaio-sidebar-cart-pd-wrap").length&&a(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-disabled"),!1):(l("hide"),a(".vi-wcaio-coupon-code").val(""),void p(!0)))}function p(i=!1,e=!1){if(i){if(!e&&!a(".vi-wcaio-sidebar-cart-wrap").data("empty_enable")&&!a(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-pd-wrap").length)return!1;a(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-disabled vi-wcaio-sidebar-cart-icon-wrap-close vi-wcaio-sidebar-cart-icon-wrap-mouseenter vi-wcaio-sidebar-cart-icon-wrap-mouseleave"),a(".vi-wcaio-sidebar-cart-icon-wrap").addClass("vi-wcaio-sidebar-cart-icon-wrap-open")}else a(".vi-wcaio-sidebar-cart-icon-wrap").addClass("vi-wcaio-sidebar-cart-icon-wrap-close"),a(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-open vi-wcaio-sidebar-cart-icon-wrap-mouseenter vi-wcaio-sidebar-cart-icon-wrap-mouseleave")}function f(i){i=a(i),window.innerWidth<782&&i.css({maxHeight:window.innerHeight})}function _(i){let e=!1;(i=a(i)).closest(".vi-wcaio-sidebar-cart-rtl").length&&(e=!0),i.find("img").each(function(){a(this).attr("src",a(this).data("src"))}),i.addClass("vi-wcaio-slider-init"),i.viwcaio_flexslider({namespace:"vi-wcaio-slider-",selector:".vi-wcaio-sidebar-cart-footer-pd-wrap .vi-wcaio-sidebar-cart-footer-pd",animation:"slide",animationLoop:1,itemWidth:145,itemMargin:10,controlNav:!1,maxItems:window.outerWidth>480?2:1,reverse:e,rtl:e,move:1,touch:!0,slideshow:!1})}function g(i){a(".vi-wcaio-sidebar-cart-wrap").removeClass("vi-wcaio-sidebar-cart-wrap-warning"),a(".vi-wcaio-warning-wrap").length?(a(".vi-wcaio-warning-wrap").removeClass("vi-wcaio-warning-wrap-close").addClass("vi-wcaio-warning-wrap-open"),a(".vi-wcaio-warning-wrap > div").html(i)):a("body").append('<div class="vi-wcaio-warning-wrap vi-wcaio-warning-wrap-open"><div>'+i+"</div></div>"),setTimeout(function(){a(".vi-wcaio-sidebar-cart-wrap").addClass("vi-wcaio-sidebar-cart-wrap-warning")},1e3),setTimeout(function(){u()},15e3)}function u(){a(".vi-wcaio-sidebar-cart-wrap").removeClass("vi-wcaio-sidebar-cart-wrap-warning"),a(".vi-wcaio-warning-wrap").addClass("vi-wcaio-warning-wrap-close").removeClass("vi-wcaio-warning-wrap-open")}window.fetch=async function(...i){if(a(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled"),i[0]&&"string"==typeof i[0]&&i[0].includes("/wc/store/v1/cart/update-item")&&i[1]&&i[1]?.body){let e=JSON.parse(i[1].body);if(e?.id&&e?.key&&!a('.vi-wcaio-sidebar-cart-pd-wrap[data-cart_item_key="'+e.key+'"]').length){let a={id:e.id,quantity:1};i[1].body=JSON.stringify(a),i[0]=i[0].replace("/wc/store/v1/cart/update-item","/wc/store/v1/cart/add-item")}}let e=await s.apply(this,i);if("isset"===o&&i[0]&&"string"==typeof i[0]&&i[0].includes("/wc/store/v1/cart")){e.clone().json().then(a=>{n=a?.items,w(a)})}return a(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled"),e},a(document).ready(function(){setTimeout(function(){a(document).trigger("viwcaio_sidebar_cart_init")},100)}),a(document).on("viwcaio_sidebar_cart_init",function(){if(!a(".vi-wcaio-sidebar-cart-wrap").length)return setTimeout(function(){a(document).trigger("viwcaio_sidebar_cart_init")},100),!1;a(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-init)").length&&(a(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-init)").addClass("vi-wcaio-sidebar-cart-wrap-init"),function(){if(p(!0),a(document).on("mouseenter",".vi-wcaio-sidebar-cart-icon-wrap",function(){a(this).hasClass("vi-wcaio-sidebar-cart-icon-wrap-click")?a(this).removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave").addClass("vi-wcaio-sidebar-cart-icon-wrap-mouseenter"):l("show")}).on("mouseleave",".vi-wcaio-sidebar-cart-icon-wrap",function(){a(this).hasClass("vi-wcaio-sidebar-cart-icon-wrap-mouseenter")&&a(this).removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseenter").addClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave")}).on("click",".vi-wcaio-sidebar-cart-icon-wrap",function(){a(this).hasClass("vi-wcaio-sidebar-cart-icon-wrap-click")&&l("show")}),a(document).on("click",".vi-wcaio-sidebar-cart-overlay, .vi-wcaio-sidebar-cart-close-wrap",function(){a(this).hasClass("vi-wcaio-not-hidden")||l("hide")}),a(document).on("click keydown",".vi-wcaio-sidebar-cart-wrap.vi-wcaio-sidebar-cart-wrap-warning",function(){u()}),a(".vi-wcaio-sidebar-cart-footer-pd-wrap-wrap:not(.vi-wcaio-disabled):not(.vi-wcaio-slide-init)").each(function(){_(a(this))}),"undefined"==typeof viwcaio_sc_params)return!1;!function(){o="undefined"!=typeof wp&&wp?.data?.select&&wp?.data?.subscribe&&"undefined"!=typeof wc&&wc?.wcBlocksData?.CART_STORE_KEY,o?c||(i=wp.data.select,e=wp.data.subscribe,t=wc.wcBlocksData.CART_STORE_KEY,c=e(w,t)):a('[data-block-name="woocommerce/product-button"]').length&&a('[data-wp-on--click="actions.addCartItem"]').length?o="isset":function(i,e){if(a(".vi-wcaio-sidebar-cart-wrap.vi-wcaio-sidebar-cart-wrap-init").length)if(a(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").length){if(d())return setTimeout(function(){a(document).trigger("viwcaio_fragment_refresh",[i,e])},100),!1;if("undefined"!=typeof wc_cart_fragments_params)return a(document.body).on("wc_fragments_loaded",function(){a(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").length&&(a(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").addClass("vi-wcaio-sidebar-cart-wrap-fragments-load"),setTimeout(function(){a(document).trigger("viwcaio_fragment_refresh",[i,e])},100))}),!1;a(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").addClass("vi-wcaio-sidebar-cart-wrap-fragments-load"),"sessionStorage"in window&&null!==window.sessionStorage&&"undefined"!=typeof viwcaio_sc_params||setTimeout(function(){a(document).trigger("viwcaio_fragment_refresh",[i,e])},100);let t=sessionStorage.getItem(viwcaio_sc_params.cart_hash_key);a(window).on("storage onstorage",function(c){t===c.originalEvent.key&&localStorage.getItem(t)!==sessionStorage.getItem(t)&&setTimeout(function(){a(document).trigger("viwcaio_fragment_refresh",[i,e])},100)});try{let i=JSON.parse(sessionStorage.getItem(viwcaio_sc_params.fragment_name)),e=Cookies.get("woocommerce_cart_hash"),c=sessionStorage.getItem("wc_cart_created");if(null!=t&&""!==t||(t=""),null!=e&&""!==e||(e=""),t&&(null==c||""===c))throw"No cart_created";if(c)if(1*c+864e5<(new Date).getTime())throw"Fragment expired";if(!i||!i["div.widget_shopping_cart_content"]||t!==e)throw"No fragment";a.each(i,function(i,e){a(i).replaceWith(e)})}catch(t){console.log(t),setTimeout(function(){a(document).trigger("viwcaio_fragment_refresh",[i,e])},100)}}else a(".vi-wcaio-sidebar-cart-footer-pd-wrap-wrap:not(.vi-wcaio-disabled):not(.vi-wcaio-slide-init)").each(function(){_(a(this))})}(viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_cart_fragments"),{viwcaio_get_cart_fragments:1,vicaio_nonce:viwcaio_sc_params.nonce});a(document).on("viwcaio_after_update_cart",function(i,e,t=!1){let c=e.fragments?e.fragments:e;if(c&&e?.cart_hash&&"sessionStorage"in window&&null!==window.sessionStorage&&"undefined"!=typeof viwcaio_sc_params){let a=viwcaio_sc_params.fragment_name,i=viwcaio_sc_params.cart_hash_key;if(sessionStorage.setItem(a,JSON.stringify(c)),localStorage.setItem(i,e.cart_hash),sessionStorage.setItem(i,e.cart_hash),e.cart_hash&&sessionStorage.setItem("wc_cart_created",(new Date).getTime()),t)return!1}if(!c||!Object.keys(c).length)return a(document.body).trigger("wc_fragments_ajax_error"),!1;if(a.each(c,function(i,e){a(i).replaceWith(e)}),"undefined"!=typeof wc_cart_params){if(a('[name="update_cart"]').length&&a('[name="update_cart"]').closest("form").length){let i=a('[name="update_cart"]').closest("form"),e=a(".vi-wcaio-sidebar-cart-products"),t=0;e.find(".vi_wcaio_qty").each(function(e,c){let o=a(c).attr("name").replace("viwcaio_","");i.find(`input[name="${o}"]`).val()!=a(c).val()&&(t++,i.find(`input[name="${o}"]`).val(a(c).val()).trigger("change"))}),t&&a('[name="update_cart"]').removeAttr("disabled").trigger("click")}}else"undefined"==typeof wc_checkout_params||"undefined"!=typeof viwcaio_atc&&viwcaio_atc.length||a(document.body).trigger("update_checkout");a(".vi-wcaio-sidebar-cart-wrap").addClass("vi-wcaio-sidebar-cart-wrap-updated"),a(document.body).trigger("wc_fragments_refreshed")}),a(document).on("viwcaio_fragment_refresh",function(i,e="",t=""){if("undefined"!=typeof viwcaio_sc_params&&(e||(e=viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_cart_fragments")),t||(t={viwcaio_get_cart_fragments:1,vicaio_nonce:viwcaio_sc_params.nonce})),!e||!t)return!1;a.ajax({url:e,type:"POST",data:t,beforeSend:function(){a(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(i){a(document).trigger("viwcaio_after_update_cart",[i])},error:function(i){console.log(i),a(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")},complete:function(){a(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})}),a(document.body).on("wc_fragments_refreshed wc_fragments_ajax_error",function(){if(a(".vi-wcaio-sidebar-cart-wrap-open-atc").length)return a(document.body).trigger("viwcaio_sc_effect_after_atc",[a(".vi-wcaio-sidebar-cart-wrap-open-atc").removeClass("vi-wcaio-sidebar-cart-wrap-open-atc").data("effect_after_atc")]),!0;a(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled"),a(".vi-wcaio-sidebar-cart-wrap").removeClass("vi-wcaio-sidebar-cart-wrap-updated"),v(a(".vi-wcaio-sidebar-cart-wrap")),a(".vi-wcaio-sidebar-cart-footer-pd-wrap-wrap:not(.vi-wcaio-disabled):not(.vi-wcaio-slide-init)").each(function(){_(a(this))})}),a(document.body).on("vartable_global_add_finished",function(i){if(a(".vi-wcaio-sidebar-cart-content-open").length)return!0;let e=a(".vi-wcaio-sidebar-cart-wrap"),t=e.data("effect_after_atc"),c=e.data("fly_to_cart");if(e.find(".vi-wcaio-sidebar-cart.vi-wcaio-disabled").length?(v(e,!0,!0),e.find(".vi-wcaio-sidebar-cart").removeClass("vi-wcaio-disabled")):a(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-sidebar-cart-icon-wrap-close").length&&(v(e,!0,!0),e=a(".vi-wcaio-sidebar-cart-wrap")),!t&&!c)return!0;"open"===t&&e.addClass("vi-wcaio-sidebar-cart-wrap-open-atc")}),a(document).on("click",'[data-wp-on--click="actions.addCartItem"]',function(i){a('[id="wp-script-module-data-@wordpress/interactivity"]').length&&(r=JSON.parse(a('[id="wp-script-module-data-@wordpress/interactivity"]').html())?.state?.woocommerce?.cart?.items,a(this).addClass("vicaio-wc-blocks_adding_to_cart"))}),a(document).on("vicaio-wc-blocks_added_to_cart",function(){if(!a(".vicaio-wc-blocks_adding_to_cart").length||!n.length||!r.length)return;let i;for(let a of n){if(!a?.key||!a?.id||!a?.quantity)continue;let e=!1;for(let t of r){if(!t?.key||!t?.id||!t?.quantity)break;if(t.key===a.key&&t.id===a.id){e=!0,a.quantity>t.quantity&&(i=a.id);break}}if(e||(i=a.id),i)break}if(!i)return;let e=a(`[data-product_id="${i}"] .vicaio-wc-blocks_adding_to_cart`);e.length||(e=a(`[data-product_id="${i}"].vicaio-wc-blocks_adding_to_cart`)),e.length&&(e.removeClass("vicaio-wc-blocks_adding_to_cart"),a(document).trigger("viwcaio_added_to_cart",[e]),r=n)}),a(document.body).on("added_to_cart",function(i,e,t,c){a(document).trigger("viwcaio_added_to_cart",[c,{fragments:e,cart_hash:t}])}),a(document).on("viwcaio_added_to_cart",function(i,e,t){if(e.hasClass("vi-wcaio-pd_plus-product-bt-atc")||e.closest(".viwcuf-checkout-funnel-container-popup-init").length||a(".vi-wcaio-sidebar-cart-content-open").length)return!1;t&&!e.hasClass("vi-wcaio-product-bt-atc-loading")&&"undefined"==typeof wc_cart_fragments_params&&a(document).trigger("viwcaio_after_update_cart",[t,!0]);let c=a(".vi-wcaio-sidebar-cart-wrap"),o=c.data("effect_after_atc"),r=c.data("fly_to_cart");if(c.find(".vi-wcaio-sidebar-cart.vi-wcaio-disabled").length?(v(c,!0,!0),c.find(".vi-wcaio-sidebar-cart").removeClass("vi-wcaio-disabled")):a(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-sidebar-cart-icon-wrap-close").length&&(v(c,!0,!0),c=a(".vi-wcaio-sidebar-cart-wrap")),!o&&!r)return!1;if(a(".vi-wcaio-sb-container-popup-show").length)return"open"===o&&a(document.body).trigger("viwcaio_sc_effect_after_atc",[o]),!1;if(r){let i=function(a){let i,e=a.closest(".vi-wcaio-sb-wrap");e.length||(e=a.closest(".tmb-woocommerce"));e.length||(e=a.closest(".product"));e.length||(e=a.closest(".item-product"));e.length||(e=a.closest(".product-item"));e.length||(e=a.closest(".gdlr-core-item-list"));e.length||(e=a.closest(".product-warp-item"));e.length||(e=a.closest(".item-grid"));e.length||(e=a.closest(".product__box"));e.length||(e=a.closest(".woo-entry-inner"));e.find(".vi-wcaio-sb-product-img").length?i=e.find(".vi-wcaio-sb-product-img").first():e.find(".wp-post-image").length?i=e.find(".wp-post-image").first():e.find(".attachment-shop_catalog").length?i=e.find(".attachment-shop_catalog").first():e.find(".gdlr-core-product-thumbnail").length?i=e.find(".gdlr-core-product-thumbnail").first():e.find(".woo-entry-image-main").length?i=e.find(".woo-entry-image-main").first():e.find(".wp-post-image.vi-load").length?i=e.find(".wp-post-image.vi-load").first():e.find(".attachment-woocommerce_thumbnail").length&&(i=e.find(".attachment-woocommerce_thumbnail").first());i||(i=!(!e||!e.find("img"))&&e.find("img").first());return i}(e),t=a(".vi-wcaio-sidebar-cart-icon-wrap");if(a(i).length&&t.length){i=a(i);let e,r,n,s,d,w,l=t.offset().top||c.offset().top,v=t.offset().left||c.offset().left;!i.closest(".elementor-widget-wrap").length||i.closest(".product").length||i.closest(".elementor-widget-wrap").find(".product").length?(i.closest(".woocommerce-product-gallery__wrapper").length?e=i.closest(".woocommerce-product-gallery__wrapper"):i.closest(".woocommerce-product-gallery__image").length&&(e=i.closest(".woocommerce-product-gallery__image")),e&&e.length&&(e.find(".flex-active-slide").length?r=e.find(".flex-active-slide"):e.find(".slick-active").length?r=e.find(".slick-active"):e.find(".active").length?r=e.find(".active"):e.find(".swiper-slide-active").length&&(r=e.find(".swiper-slide-active"))),r&&a(r).length||(r=i),r.find("img").length&&(r=r.find("img").first())):r=i.closest(".elementor-widget-wrap"),n=r.offset().top,s=r.offset().left,d=r.width(),w=r.height(),a(".vi-wcaio-img-flying").remove(),a("body").append('<div class="vi-wcaio-img-flying"></div>');let p=a("div.vi-wcaio-img-flying");i.clone().appendTo(p),p.css({top:n+"px",left:s+"px",width:d+"px",height:w+"px"}).fadeIn("slow"),p.animate({width:.6*d+"px",height:.6*w+"px",top:"+="+.2*w+"px",left:"+="+.2*d+"px"},400,"swing",function(){p.animate({top:l+"px",left:v+"px",height:"18px",width:"25px"},800,"swing",function(){a("div.vi-wcaio-img-flying").fadeIn("fast",function(){a("div.vi-wcaio-img-flying").remove()}),a(document.body).trigger("viwcaio_sc_effect_after_atc",[o])})})}else a(document.body).trigger("viwcaio_sc_effect_after_atc",[o])}else a(document.body).trigger("viwcaio_sc_effect_after_atc",[o])}),a(document.body).on("viwcaio_sc_effect_after_atc",function(a,i,e){switch(e){case"open":l("show");break;case"shake_horizontal":i.find(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave vi-wcaio-sidebar-cart-icon-wrap-open").addClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_horizontal"),setTimeout(function(){i.find(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_horizontal")},1100);break;case"shake_vertical":i.find(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave vi-wcaio-sidebar-cart-icon-wrap-open").addClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_vertical"),setTimeout(function(){i.find(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_vertical")},1100)}}),a(document.body).on("click",".vi-wcaio-sidebar-cart-pd-remove-wrap a.vi-wcaio-sidebar-cart-pd-remove",function(i){i.preventDefault(),i.stopPropagation();let e=a(this),t=e.closest(".vi-wcaio-sidebar-cart-wrap"),c={cart_item_key:e.data("cart_item_key"),vicaio_nonce:viwcaio_sc_params.nonce};a.ajax({url:viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_remove_item"),type:"POST",data:c,beforeSend:function(){t.find(" .vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(i){if(!i||i.error)return window.location.reload(),!1;t.addClass("vi-wcaio-sidebar-cart-wrap-updated"),a(document.body).trigger("removed_from_cart",[i.fragments,i.cart_hash,e]),a(document).trigger("viwcaio_after_update_cart",[i])},error:function(){t.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})}),a(document.body).on("click",".vi-wcaio-sidebar-cart-pd-wrap .vi_wcaio_change_qty",function(i){i.preventDefault(),i.stopPropagation();let e=a(this).closest(".vi-wcaio-sidebar-cart-pd-quantity").find(".vi_wcaio_qty"),t=parseFloat(e.val()),c=parseFloat(e.attr("step")),o=parseFloat(e.attr("min")),r=parseFloat(e.attr("max"));if(a(this).hasClass("vi_wcaio_plus")){if(r===t)return!1;t+=c}else{if(o===t)return!1;t-=c}e.val(t).trigger("change")}),a(document.body).on("change",".vi-wcaio-sidebar-cart-pd-wrap input.vi_wcaio_qty",function(i){i.preventDefault(),i.stopPropagation();let e=parseFloat(a(this).val()),t=parseFloat(a(this).attr("min")),c=parseFloat(a(this).attr("max"));t>e&&(e=t),e>c&&(e=c),a(this).val(e),a(this).addClass("vi_wcaio_qty_update").closest(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-bt-update").removeClass("vi-wcaio-disabled")}),a(document.body).on("click",".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-bt-update",function(i){i.preventDefault(),i.stopPropagation();let e,t=a(this),c=t.closest(".vi-wcaio-sidebar-cart-wrap");e=c.find(".vi_wcaio_qty_update").length?c.find(".vi-wcaio-sidebar-cart-products input.vi_wcaio_qty_update").serialize():c.find(".vi-wcaio-sidebar-cart-products input").serialize(),-1===e.search("vicaio_nonce")&&(e+="&vicaio_nonce="+viwcaio_sc_params.nonce),a.ajax({url:viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_change_quantity"),type:"POST",data:e,beforeSend:function(){c.find(" .vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(i){if(!i||i.error)return window.location.reload(),!1;t.addClass("vi-wcaio-disabled"),a(document).trigger("viwcaio_after_update_cart",[i])},error:function(){c.find(".vi_wcaio_qty_update").removeClass("vi_wcaio_qty_update"),c.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})}),a(document.body).on("click",".vi-wcaio-sidebar-cart-wrap .vi-wcaio-bt-coupon-code",function(i){i.preventDefault(),i.stopPropagation();let e=a(this).closest(".vi-wcaio-sidebar-cart-wrap"),t={vi_wcaio_coupon_code:e.find(".vi-wcaio-coupon-code").val()||"",vicaio_nonce:viwcaio_sc_params.nonce};a.ajax({url:viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_apply_coupon"),type:"POST",data:t,beforeSend:function(){e.find(" .vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(i){if(!i)return window.location.reload(),!1;i.message&&g(i.message),i.status&&"success"===i.status?a(document.body).trigger("viwcaio_fragment_refresh"):e.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")},error:function(){e.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})})}()}())}),a(window).on("resize",function(){f(a(".vi-wcaio-sidebar-cart-content-wrap"))}),window.viwcaio_sidebar_cart_is_refresh=d,window.vi_wcaio_sc_toggle=l,window.vi_wcaio_sc_icon_may_be_toggle=v,window.vi_wcaio_sc_icon_toggle=p,window.vi_wcaio_sc_flexslider=_,window.vi_wcaio_show_message=g,window.vi_wcaio_hide_message=u}(jQuery);